schema: '2.0'
stages:
  download_data:
    cmd: wget https://git.io/vXTVC -O data/raw/dataset.csv
    outs:
    - path: data/raw/dataset.csv
      md5: 1a53f0e394e74914659007cc5f153b9f
      size: 1850
  sampling:
    cmd: poetry run python -m chapter01.sampling data/raw/dataset.csv data/interim/trace.pickle
      data/interim/model.pickle --samples=4000 --sample_tune=1000
    deps:
    - path: chapter01/sampling.py
      md5: f73a55e8db84b3c974d3b8e75feeb435
      size: 2310
    - path: data/raw/dataset.csv
      md5: 1a53f0e394e74914659007cc5f153b9f
      size: 1850
    outs:
    - path: data/interim/model.pickle
      md5: 860d5fd3645786f23e8aab6fdda0b562
      size: 767672
    - path: data/interim/trace.pickle
      md5: f2ecb2c7ab7d3b33813f9b66c34e3006
      size: 2666820
  analysis:
    cmd: poetry run python -m chapter01.analysis data/raw/dataset.csv data/interim/trace.pickle
      data/interim/model.pickle reports/figures/chapter01/ data/processed/trace_summary.csv
    deps:
    - path: chapter01/analysis.py
      md5: 5b22b3adcf612fd80b62ef70b0edbf3c
      size: 5215
    - path: data/interim/model.pickle
      md5: 860d5fd3645786f23e8aab6fdda0b562
      size: 767672
    - path: data/interim/trace.pickle
      md5: f2ecb2c7ab7d3b33813f9b66c34e3006
      size: 2666820
    - path: data/raw/dataset.csv
      md5: 1a53f0e394e74914659007cc5f153b9f
      size: 1850
    outs:
    - path: data/processed/trace_summary.csv
      md5: 4367ba715e0d003c9b4a022b1fffbca5
      size: 255
    - path: reports/figures/chapter01/
      md5: 89298950c44250aecaaac97e228bfa35.dir
      size: 248762
      nfiles: 4
  chap01_download_data:
    cmd: wget https://git.io/vXTVC -O data/raw/dataset.csv
    outs:
    - path: data/raw/dataset.csv
      md5: 1a53f0e394e74914659007cc5f153b9f
      size: 1850
  chap02_ab_testing:
    cmd: poetry run python -m src.chapter02.ab_testing
    deps:
    - path: src/chapter02/ab_testing.py
      md5: c32e899e7f79adb2cb0db7d70e967de9
      size: 1574
    outs:
    - path: reports/figures/chapter02/
      md5: e75ad97d154ce1e8bfca1a108c90775b.dir
      size: 21499
      nfiles: 1
  chap01_sampling:
    cmd: poetry run python -m src.chapter01.sampling data/raw/dataset.csv data/interim/trace_and_model.pickle
      --samples=4000 --sample_tune=1000
    deps:
    - path: data/raw/dataset.csv
      md5: 1a53f0e394e74914659007cc5f153b9f
      size: 1850
    - path: src/chapter01/sampling.py
      md5: dfcc1fb3b22f3e0c9bc828bf1817dda7
      size: 2158
    - path: src/utils.py
      md5: 4098ae6e4d7850e65fa0155c26049fff
      size: 692
    outs:
    - path: data/interim/trace_and_model.pickle
      md5: f69aecc6e6d780533100b06bc3bd8f59
      size: 3125168
  chap01_analysis:
    cmd: poetry run python -m src.chapter01.analysis data/raw/dataset.csv data/interim/trace_and_model.pickle
      reports/figures/chapter01/ data/processed/trace_summary.csv
    deps:
    - path: data/interim/trace_and_model.pickle
      md5: f69aecc6e6d780533100b06bc3bd8f59
      size: 3125168
    - path: data/raw/dataset.csv
      md5: 1a53f0e394e74914659007cc5f153b9f
      size: 1850
    - path: src/chapter01/analysis.py
      md5: 8f7b067a61a41eeb83b5a7786a23656d
      size: 4938
    - path: src/utils.py
      md5: 4098ae6e4d7850e65fa0155c26049fff
      size: 692
    outs:
    - path: data/processed/trace_summary.csv
      md5: 07d81d8ef65761ca3269e190f7182156
      size: 243
    - path: reports/figures/chapter01/
      md5: 3deedf336dbae60b0391a12a518942d7.dir
      size: 222419
      nfiles: 4
  chap02_one_bernoulli:
    cmd: poetry run python -m src.chapter02.one_bernoulli --figure_dir reports/figures/chapter02/one/
    deps:
    - path: src/chapter02/one_bernoulli.py
      md5: 10f887169081cf88af90da4264f22234
      size: 1887
    - path: src/utils.py
      md5: 4098ae6e4d7850e65fa0155c26049fff
      size: 692
    outs:
    - path: reports/figures/chapter02/one/
      md5: 461bb783f8c6dd644d7d9fdea95f6156.dir
      size: 22480
      nfiles: 1
  chap02_two_bernoulli:
    cmd: poetry run python -m src.chapter02.two_bernoulli --figure_dir reports/figures/chapter02/two/
    deps:
    - path: src/chapter02/two_bernoulli.py
      md5: 2ad49ec2a43549738433f19591b0fa11
      size: 2552
    - path: src/utils.py
      md5: 4098ae6e4d7850e65fa0155c26049fff
      size: 692
    outs:
    - path: reports/figures/chapter02/two/
      md5: 824cae70e157306fbf0126efe6341c78.dir
      size: 30450
      nfiles: 1
